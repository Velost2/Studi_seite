/* ===== Base ===== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background:#f8fafc; color:#111827; }

/* ===== Layout ===== */
.container { max-width: 960px; margin: 0 auto; padding: 24px; }
.header { display:flex; align-items:center; justify-content:space-between; margin-bottom: 16px; }
.title { margin: 0; font-size: 20px; font-weight: 700; }
.subtitle { margin: 4px 0 0; color:#6b7280; font-size: 14px; }
.meta { font-size: 12px; color:#6b7280; }
.footer { margin-top: 24px; display:flex; justify-content:space-between; font-size:12px; color:#6b7280; }

.progress { width:100%; height:8px; background:#e5e7eb; border-radius:6px; overflow:hidden; margin: 12px 0 16px; }
.progress__bar { height:100%; background:#111827; transition: width .25s ease; }

/* ===== Components ===== */
.card { background:#fff; border-radius:16px; box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04); padding:20px; }
.card.soft { border:1px solid #e5e7eb; box-shadow:none; }
.card--ring { outline: 2px solid #111827; outline-offset: 0; }
.card--tinted { background:#f9fafb; }

.list { margin: 0 0 16px; padding-left: 18px; }
.list.small { font-size: 12px; }
.hint { color:#6b7280; font-size: 14px; margin: 0 0 12px; }
.label { font-size: 14px; font-weight: 600; }
.input { width:100%; border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; font:inherit; }
.input:focus { outline: none; border-color:#111827; box-shadow: 0 0 0 2px rgba(17,24,39,.15); }

.checkbox-row, .radio-row { display:flex; align-items:center; gap:8px; font-size:14px; color:#374151; }

.row { display:flex; align-items:center; }
.row.gap { gap:16px; }
.row.end { justify-content:flex-end; }
.row.between { justify-content:space-between; }
.stack { display:flex; flex-direction:column; }
.stack.gap-sm { gap:8px; }
.mt { margin-top: 12px; }
.mb { margin-bottom: 12px; }
.divider { border-top:1px solid #e5e7eb; margin: 12px 0 0; }
/* Step 1: increase space between divider and choose button */
#screen-exp1 .divider { margin: 12px 0 24px; }
#screen-exp1 .divider + .row.end { margin-top: 0; }

.grid { display:grid; gap:16px; }
.grid-2 { grid-template-columns: repeat(1,minmax(0,1fr)); }
.grid-3 { grid-template-columns: repeat(1,minmax(0,1fr)); }
@media (min-width: 768px){
  .grid-2 { grid-template-columns: repeat(2,minmax(0,1fr)); }
  .grid-3 { grid-template-columns: repeat(3,minmax(0,1fr)); }
}

.btn { border:none; border-radius:10px; padding:10px 16px; font-weight:600; font-size:14px; cursor:pointer; background:#e5e7eb; color:#111827; }
.btn:hover { filter: brightness(0.98); }
.btn:active { transform: translateY(0.5px); }
.btn-block { width:100%; }
.btn-primary { background:#111827; color:#fff; }
.btn-primary:hover { background:#000; }
.btn-outline { background:#fff; border:1px solid #d1d5db; color:#111827; }
.btn-outline:hover { background:#f3f4f6; }
.btn-accent { background:#2563eb; color:#fff; }
.btn-accent:hover { background:#1d4ed8; }
.btn-disabled { background:#9ca3af; color:#fff; cursor:not-allowed; }
.btn-pill { border-radius: 999px; }
.btn-square { border-radius: 0; }
/* Similarity/Dissimilarity helpers */
.btn-soft { background:#f3f4f6; color:#111827; border:1px solid #e5e7eb; }
.btn-strong { background:#111827; color:#fff; box-shadow:0 8px 18px rgba(17,24,39,.18); }

/* Strong highlight for Social Proof (green, pulsing) */
.card--emph-strong { outline: 3px solid #10b981; outline-offset: 0; box-shadow: 0 0 0 5px rgba(16,185,129,.20); animation: pulse-green 1.6s ease-out infinite; }
@keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(16,185,129,.35); } 70% { box-shadow: 0 0 0 10px rgba(16,185,129,0); } 100% { box-shadow: 0 0 0 0 rgba(16,185,129,0); } }
.badge-pop-strong { display:inline-block; font-size:12px; padding:4px 8px; border-radius:8px; background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; font-weight:600; box-shadow: 0 0 0 3px rgba(16,185,129,.25); animation: pulse-green 1.6s ease-out infinite; }
.badge-top-right { position:absolute; top:12px; right:12px; z-index: 2; }
.badge-top-left { position:absolute; top:12px; left:12px; z-index: 2; }
.pos-rel { position: relative; }
/* Reserve space for top-right badge so it does not overlap subtitle */
.card--has-badge { padding-top: 48px; }
/* Experiment 2: make the grey/outline button square */
#screen-exp2 .btn-outline { border-radius: 0; }
/* Experiment 2: gleiche Form für beide Buttons (nur Kontrast variiert) */
#exp4-save {
  margin-top: 1rem; /* oder 16px */
}
#btn-start {
  margin-top: 1rem; /* oder 1.5rem, falls du mehr Abstand willst */
}



.muted { color:#374151; }
.small { font-size: 13px; }

.plan__title { font-weight:700; }
.plan__price { font-size:13px; color:#374151; }
.plan__desc { color:#6b7280; font-size:14px; margin-top: 4px; }
.group-box { border:1px solid #e5e7eb; border-radius:12px; padding:12px; background:#fff; }

.thumb { height:84px; background:#f3f4f6; border-radius:8px; margin: 8px 0; }
.thumb--alt { background:#e5e7eb; }
.item__name { font-weight:700; margin: 6px 0; }

.banner { background:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; padding:12px; margin-bottom:12px; font-size:14px; }
.banner__title { font-weight:700; }

.scarcity { font-size:12px; padding:8px; border-radius:8px; background:#fffbeb; border:1px solid #fef3c7; margin: 6px 0 8px; }

/* ===== Likert ===== */
.likert { margin-bottom: 16px; }
.likert__label { margin-bottom: 6px; font-size:14px; font-weight:600; color:#1f2937; }
.likert__scale { display:flex; align-items:center; gap:8px; }
.likert__dot { position:relative; width:32px; height:32px; border-radius:999px; border:1px solid #d1d5db; display:flex; align-items:center; justify-content:center; cursor:pointer; background:#fff; user-select:none; }
.likert__dot input.sr { position:absolute; inset:0; opacity:0; }
.likert__dot:hover { background:#f3f4f6; }
/* Checked-Status klar anzeigen */
.likert__dot input.sr:checked + span {
  background:#111827; color:#fff; border-radius:999px; width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
}

/* ===== Overlay / Modal ===== */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,.4); display:grid; place-items:center; padding:16px; z-index: 50; }
.modal { position:relative; width:100%; max-width: 640px; background:#fff; border-radius:16px; padding:12px 20px 20px; box-shadow: 0 10px 30px rgba(0,0,0,.15); }
.modal__title { margin:0 0 6px; font-size: 16px; font-weight: 700; }
.modal__close { position:absolute; top:10px; right:10px; border:none; background:#f3f4f6; color:#111827; border-radius:999px; width:28px; height:28px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; font-size:0; line-height:0; }
.modal__close:hover { background:#e5e7eb; }
/* Draw a perfectly centered cross instead of relying on the × glyph */
.modal__close::before,
.modal__close::after { content:""; position:absolute; top:50%; left:50%; width:12px; height:2px; background:#111827; border-radius:1px; transform-origin:center; }
.modal__close::before { transform: translate(-50%, -50%) rotate(45deg); }
.modal__close::after  { transform: translate(-50%, -50%) rotate(-45deg); }
.modal__drag { width:100%; height:20px; display:flex; align-items:center; justify-content:center; margin: 0 0 8px; cursor: grab; }
.modal__drag::before { content:""; width:96px; height:6px; background:#e5e7eb; border-radius:999px; }
.modal--dragging .modal__drag { cursor: grabbing; }
.chips { display:flex; flex-wrap:wrap; gap:8px; margin: 8px 0 12px; }
.chip { padding:6px 10px; border:1px solid #d1d5db; border-radius:999px; background:#fff; font-size:13px; cursor:pointer; }
.chip--active { background:#111827; color:#fff; border-color:#111827; }

/* Floating reopen button for attribution */
.fab { position:fixed; right:16px; bottom:16px; z-index:60; border:none; border-radius:999px; padding:10px 14px; font-weight:600; background:#111827; color:#fff; cursor:pointer; box-shadow: 0 6px 18px rgba(0,0,0,.18); }
.fab:hover { background:#000; }

/* ===== Helpers ===== */
.hidden { display:none; }
/* Exp1 - visuelle Unterstützung für Variante A */
.card--stretched .divider { margin-top: 1rem; }
.card--stretched .row.end { margin-top: 0.5rem; }

/* Zusätzlicher künstlicher Abstand, um "gestreckt" zu wirken */
.spacer { height: 20px; }

/* Kompakter Gruppierungsblock */
.group-box {
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 12px;
  padding: 12px;
  background: #fff;
}

/* Leichtes Tintenfeld für das Target (optional) */
.card--tinted {
  background: #fff;
}

/* ===== Scarcity emphasis (Exp 5) ===== */
.scarcity--emph { display:flex; align-items:center; gap:8px; font-weight:600; background:#fff7ed; border-color:#fdba74; color:#7c2d12; }
.scarcity--emph strong { color:#b45309; }
.scarcity__icon { width:18px; height:18px; border-radius:999px; background:#f59e0b; color:#fff; display:inline-flex; align-items:center; justify-content:center; font-size:12px; line-height:1; }
@keyframes pulse-emph { 0% { box-shadow: 0 0 0 0 rgba(245,158,11,.45); } 70% { box-shadow: 0 0 0 8px rgba(245,158,11,0); } 100% { box-shadow: 0 0 0 0 rgba(245,158,11,0); } }
.scarcity--pulse { animation: pulse-emph 1.8s ease-out infinite; }

/* ===== Social Proof (positive emphasis) ===== */
.socialproof { font-size:12px; padding:8px 12px; border-radius:8px; background:#ecfdf5; border:1px solid #a7f3d0; margin: 6px 0 8px; color:#065f46; display:flex; align-items:center; gap:10px; line-height:1.4; }
.socialproof--emph { font-weight:600; }
.socialproof--emph strong { color:#047857; }
.socialproof__icon { width:18px; height:18px; border-radius:999px; background:#10b981; color:#fff; display:inline-flex; align-items:center; justify-content:center; font-size:12px; line-height:1; flex:0 0 18px; }
@keyframes pulse-positive { 0% { box-shadow: 0 0 0 0 rgba(16,185,129,.35); } 70% { box-shadow: 0 0 0 8px rgba(16,185,129,0); } 100% { box-shadow: 0 0 0 0 rgba(16,185,129,0); } }
.socialproof--pulse { animation: pulse-positive 1.8s ease-out infinite; }

/* ===== New experiments ===== */
.toast { position:sticky; top:0; left:0; right:0; background:#fee2e2; color:#7f1d1d; border:1px solid #fecaca; padding:8px 12px; border-radius:10px; }
.sticky { position:fixed; left:0; right:0; bottom:0; background:rgba(255,255,255,.9); border-top:1px solid #e5e7eb; backdrop-filter: blur(6px); }
.sticky__inner { max-width:960px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between; }
.card--halo {
  padding:20px;
  border-radius:16px;
  /* sichtbarer, aber dennoch subtiler Vordergrund-Effekt */
  background:#f9fafb; /* leichte Tönung gegenüber reinem Weiß */
  box-shadow:
    0 0 0 2px rgba(17,24,39,.14),   /* feiner Ring */
    0 8px 18px rgba(17,24,39,.08);  /* sanfter Drop-Shadow */
}
.press-state { filter: brightness(0.95); box-shadow: 0 2px 8px rgba(0,0,0,.08); }
.press-animate { transform: scale(0.98); transition: transform 120ms ease-out; }




/* ===== Experiment 6 layout ===== */
.exp6-grid { display:grid; gap:16px; justify-items:stretch; }
@media (min-width: 640px){
  .exp6-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 639px){
  .exp6-grid { grid-template-columns: repeat(1, minmax(0, 1fr)); width:100%; }
}
.exp6-card { display:flex; flex-direction:column; gap:8px; max-width:320px; text-align:left; }
.exp6-card .badge { display:inline-flex; align-items:center; gap:4px; font-size:11px; padding:2px 8px; border-radius:999px; background:#eef2ff; color:#4338ca; font-weight:600; width:max-content; }
.exp6-card ul { margin: 4px 0 12px; }
.exp6-card .muted { color:#4b5563; font-size:13px; }
.exp6-card .btn { align-self:flex-start; }

/* ===== Mobile floating back button ===== */
@media (max-width: 768px){
  #btn-back {
    position: fixed;
    right: 16px;
    bottom: 16px;
    z-index: 60;
    border-radius: 999px;
    padding: 10px 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,.18);
  }
}

/* Alignments per user request */
/* Exp1: bottom-align choose area and avoid color emphasis */
#exp1-cards .card.flex-col { display:flex; flex-direction:column; }
#exp1-cards .mt { margin-top: auto; }
/* Exp1: remove inner frame on grouped variant */
.group-box { border: 0 !important; background: transparent !important; padding: 0 !important; }
.group-box .list { margin-bottom: 8px; }
.group-box .btn { margin-top: 8px; }

/* Exp3: bottom-align "In den Warenkorb" */
#exp3-grid .card, #exp9b-grid .card, #exp14sp-grid .card, #exp15-grid .card { display:flex; flex-direction:column; }
#exp3-grid .btn.mt, #exp9b-grid .btn.mt, #exp14sp-grid .btn.mt, #exp15-grid .btn.mt { margin-top: auto !important; }

/* Exp4pref: add spacing before button */
#exp4pref-next { margin-top: 12px; }

/* Exp5: bottom-align select buttons */
#screen-exp5 .card.soft { display:flex; flex-direction:column; }
#screen-exp5 .card.soft > button { margin-top: auto; }
#exp5-grid .card { display:flex; flex-direction:column; }
/* Create clear space between content divider and button */
#exp5-grid .divider { margin:18px 0 10px; position:static; }
/* Remove divider line for Exp5 */
#exp5-grid .divider { display: none; }
/* Button: slimmer outline, moderate size, sits at bottom */
#exp5-grid .btn-big-outline {
  margin-top:auto;
  display:block; width:100%;
  border:1.5px solid #cfd8e3; border-radius:16px;
  padding:10px 14px; font-weight:700; font-size:16px;
  background:#fff; color:#0f172a;
}

/* Exp12fg spacing fixes: divider/button should not overlap */
#screen-exp12fg .divider { margin:12px 0 8px; display:block; position:static; }
#screen-exp12fg .exp12fg-choose { margin-top:8px; position:relative; z-index:1; }

/* Subtle badge for notes (e.g., beliebt heute) */
.badge-note { display:inline-flex; align-items:center; gap:6px; font-size:11px; padding:2px 8px; border-radius:999px; background:#f3f4f6; color:#374151; border:1px solid #e5e7eb; white-space:nowrap; }

/* Simple layout for header quick-jump */
.header-actions { display:flex; align-items:center; gap:8px; }
select.jump { font-size:12px; padding:6px 8px; border:1px solid #d1d5db; border-radius:8px; background:#fff; color:#111827; }
